<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Yuri Almeida Cunha" />

<meta name="date" content="2021-02-14" />

<title>Find Best Deals - Hotels Vienna Dataset</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>






<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">Find Best Deals - Hotels Vienna Dataset</h1>
<h4 class="author">Yuri Almeida Cunha</h4>
<h4 class="date">2021-02-14</h4>



<div id="introduction" class="section level2">
<h2>INTRODUCTION</h2>
<p>The goal of the following analysis is to use statistical and prediction models to find 5 of the best deals for the Vienna Hotels dataset. The idea is to create a prediction model for the price of the hotel id’s, and based in our predictions check what are the 5 ones with the greatest positive difference between the actual prices and the predicted values.</p>
</div>
<div id="dataset" class="section level2">
<h2>DATASET</h2>
<p>First, it was analyzed the price distribution. It showed a right-skewed long tail with a considerable amount of outliers. Because of the small size of the dataset, the importance of the observations and the lack of necessity to predict the price absolute value itself (only demonstrate the 5 best deals instead), the value was log transformed to fit better the results of in the models. The log transformation “normalizes” the distribuition and helps to deal better with those extreme values.</p>
<p>Bellow you may check graphically the price and the log_price distributions:</p>
<p><img src="data:image/png;base64,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" width="50%" /><img src="data:image/png;base64,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" width="50%" /></p>
<p>Another important comments to mention about the dataset are the flags under missing values and the re-categorization or exclusion of some values to reduce noise under the predictions. First, the flags were created to highlight whether the rating values had or not missing values. The dataset itself is not big at all and removing those observations could cause a huge impact. With that, the NA’s were converted to 0’s and the changes flagged in different values. Second, also in order to improve the prediction results, some of the factor values were deleted or re-categorized due to the lack of sufficient observations. With that it was possible to reduce noise into the predicted values.</p>
</div>
<div id="prediction-models" class="section level2">
<h2>PREDICTION MODELS</h2>
<div id="linear-regression-models" class="section level3">
<h3>LINEAR REGRESSION MODELS</h3>
<p>Initially, the first models to run were the linear regression ones. Under the table bellow, it’s possible to visualize the results compiled:</p>
<table style="width:100%;">
<colgroup>
<col width="14%" />
<col width="15%" />
<col width="15%" />
<col width="23%" />
<col width="9%" />
<col width="10%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">rmse_test</th>
<th align="center">rmse_train</th>
<th align="center">model_name</th>
<th align="center">model_pretty_name</th>
<th align="center">nvars</th>
<th align="center">r2</th>
<th align="center">BIC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">0.5677</td>
<td align="center">0.3524</td>
<td align="center">model1</td>
<td align="center">(1)</td>
<td align="center">20</td>
<td align="center">0.4457</td>
<td align="center">388.2</td>
</tr>
<tr class="even">
<td align="center">0.5705</td>
<td align="center">0.3499</td>
<td align="center">model2</td>
<td align="center">(2)</td>
<td align="center">22</td>
<td align="center">0.4524</td>
<td align="center">395.8</td>
</tr>
<tr class="odd">
<td align="center">0.5765</td>
<td align="center">0.3405</td>
<td align="center">model3</td>
<td align="center">(3)</td>
<td align="center">26</td>
<td align="center">0.4785</td>
<td align="center">402.6</td>
</tr>
<tr class="even">
<td align="center">0.5814</td>
<td align="center">0.3353</td>
<td align="center">model4</td>
<td align="center">(4)</td>
<td align="center">30</td>
<td align="center">0.4929</td>
<td align="center">416.4</td>
</tr>
</tbody>
</table>
<p>Considering the summary above it’s possible to choose the best model based on the lowest error generated (RMSE) and also the BIC value that’s a function of the posterior probability of a model being true, under a certain Bayesian setup, so that a lower BIC means that a model is considered to be more likely to be the true model. In that case, the model that satisfies both is the model X1.</p>
</div>
<div id="lasso" class="section level3">
<h3>LASSO</h3>
<p>Lasso (least absolute shrinkage and selection operator; also Lasso or LASSO) is a regression analysis method that performs both variable selection and regularization in order to enhance the prediction accuracy and interpretability of the resulting statistical model. After applying LASSO and with that penalizing the impact of the factor under a specific parameter, the number of variables was reduced quite significantly from our biggest model (reaching only 13). This lowered the RMSE result making the LASSO a “better choice” then the models X1 to X4 presented so far.</p>
</div>
<div id="carts-random-forests-and-gbm" class="section level3">
<h3>CARTs, RANDOM FORESTs AND GBM</h3>
<p>Using the best models achieved so far X1 and LASSO (better interpretation of variable coefficients and its correlations), it was to time for running some machine learning algorithms focusing exclusive on predicting results. The first one used was the CART one, second the Random Forest and third the GBM.</p>
<p>The results can be visualized on the following table:</p>
<table style="width:49%;">
<colgroup>
<col width="26%" />
<col width="22%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Model</th>
<th align="center">RMSE.in.Train</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">CART Model X1</td>
<td align="center">0.3508</td>
</tr>
<tr class="even">
<td align="center">CART Model LASSO</td>
<td align="center">0.3221</td>
</tr>
<tr class="odd">
<td align="center">RF X1</td>
<td align="center">0.3764</td>
</tr>
<tr class="even">
<td align="center">RF LASSO</td>
<td align="center">0.3598</td>
</tr>
<tr class="odd">
<td align="center">GBM X1</td>
<td align="center">0.4108</td>
</tr>
<tr class="even">
<td align="center">GBM LASSO</td>
<td align="center">0.3552</td>
</tr>
</tbody>
</table>
<p>As expected, the machine learning algorithms produced some really interesting results even on the train dataset. They are simpler to code and for that amount of data, even the GBM didn’t take much time to fully perform. However, now the comparison between all models should be done in the holdout dataset for our final analysis. For that the formula chosen was the LASSO one, considering that it produced the lowest RMSE error for all ML’ model types.</p>
</div>
<div id="holdout-dataset-and-final-comparison" class="section level3">
<h3>HOLDOUT DATASET AND FINAL COMPARISON</h3>
<p>Finally, once all the models are mostly defined, it’s time to run the comparison between the models predictions under the holdout dataset. The table bellow compares all of them:</p>
<table style="width:72%;">
<colgroup>
<col width="25%" />
<col width="22%" />
<col width="25%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Model</th>
<th align="center">RMSE.in.Train</th>
<th align="center">RMSE.in.Holdout</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Linear X1 Model</td>
<td align="center">0.356</td>
<td align="center">0.3755</td>
</tr>
<tr class="even">
<td align="center">LASSO Model</td>
<td align="center">0.3816</td>
<td align="center">0.3696</td>
</tr>
<tr class="odd">
<td align="center">CART Tree</td>
<td align="center">0.3221</td>
<td align="center">0.5933</td>
</tr>
<tr class="even">
<td align="center">Random Forest</td>
<td align="center">0.2733</td>
<td align="center">0.3144</td>
</tr>
<tr class="odd">
<td align="center">GBM</td>
<td align="center">0.2069</td>
<td align="center">0.314</td>
</tr>
</tbody>
</table>
<p>As it’s possible to check, the GBM over-performs all the other models in terms of predictions not only on the Holdout but also in the train one. You can definitely check a substantial improvement on RMSE reduction from the worst one (CART using Lasso formula) to the GBM. As prediction is the main goal, the model chosen was the one that has less errors, GBM.</p>
</div>
</div>
<div id="best-deals-and-conclusion" class="section level2">
<h2>5 BEST DEALS AND CONCLUSION</h2>
<p>With the predictions done by the GBM, this time in the entire dataset, it’s was possible to highlight what are the best 5 deals of hotels (greatest positive difference between the actual prices and the predicted values). It’s important to mention that the predictions were done in log prices and that the conversion back to its absolute values can cause some sort of impact. However, as the main goal was just to define the best 5 hotels, those differences calculated in log, didn’t seem to be a problem. Finally, the table bellow consolidates the best 5 hotel IDs:</p>
<table style="width:85%;">
<colgroup>
<col width="15%" />
<col width="16%" />
<col width="23%" />
<col width="29%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">hotel_id</th>
<th align="center">log_price</th>
<th align="center">gbm_prediction</th>
<th align="center">gbm_prediction_res</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">21983</td>
<td align="center">4.828</td>
<td align="center">5.489</td>
<td align="center">-0.6606</td>
</tr>
<tr class="even">
<td align="center">22102</td>
<td align="center">4.585</td>
<td align="center">5.317</td>
<td align="center">-0.7323</td>
</tr>
<tr class="odd">
<td align="center">22127</td>
<td align="center">4.06</td>
<td align="center">4.835</td>
<td align="center">-0.7749</td>
</tr>
<tr class="even">
<td align="center">22189</td>
<td align="center">4.762</td>
<td align="center">5.456</td>
<td align="center">-0.6942</td>
</tr>
<tr class="odd">
<td align="center">22344</td>
<td align="center">3.912</td>
<td align="center">4.628</td>
<td align="center">-0.7162</td>
</tr>
</tbody>
</table>
<p>Comparing to the results of the experiment done in the Case Study of the Chapter 10 of the book “Data Analysis for Business, Economics and Policy”, there was only one match of the best 5 hotel deals (the HotelId = 22344). This could be easily explained not only considering the differences on building the modes itself (featuring engineering), but also adding into account different methods of cleaning. Although the results are not the same, the prediction model generated really satisfactory outcomes and could be definetly improved with a more resonable amount of data, in order to be ready to use for real business decisions.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
